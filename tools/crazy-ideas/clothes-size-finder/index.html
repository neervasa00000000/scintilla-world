<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Clothes Size Converter - Find Your Perfect Size</title>
  <link rel="icon" type="image/png" href="https://i.imgur.com/bZubhoR.png">
  <link rel="apple-touch-icon" href="https://i.imgur.com/bZubhoR.png">
  <link rel="shortcut icon" href="https://i.imgur.com/bZubhoR.png">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --primary: #92487A;
      --primary-light: #E49BA6;
      --secondary: #FFD3D5;
      --accent: #540863;
      --bg: #FFD3D5;
      --card: #ffffff;
      --text: #540863;
      --text-light: #92487A;
      --border: #E49BA6;
      --success: #48bb78;
      --warning: #ed8936;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      background: var(--bg);
      min-height: 100vh;
      padding: 2em 1em;
      color: var(--text);
      line-height: 1.6;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .header {
      text-align: center;
      margin-bottom: 2rem;
      padding: 1.5rem 0;
    }

    h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      margin-bottom: 0.5em;
      font-weight: 700;
      position: relative;
      z-index: 1;
    }

    .subtitle {
      font-size: clamp(1rem, 2vw, 1.3rem);
      opacity: 0.95;
      position: relative;
      z-index: 1;
    }

    .content {
      padding: 0;
    }

    .tabs {
      display: flex;
      gap: 0.75em;
      margin-bottom: 3em;
      flex-wrap: wrap;
    }

    .tab {
      flex: 1;
      min-width: 160px;
      padding: 1.2em 1.8em;
      background: var(--card);
      border: 2px solid transparent;
      font-size: 1em;
      font-weight: 600;
      cursor: pointer;
      color: var(--text-light);
      border-radius: 12px;
      transition: all 0.3s ease;
      position: relative;
    }

    .tab:hover:not(.active) {
      background: white;
      color: var(--primary);
      border-color: var(--border);
    }

    .tab.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .input-section {
      padding: 2em 0;
      margin-bottom: 3em;
    }

    .section-title {
      font-size: 1.75em;
      color: var(--text);
      margin-bottom: 2em;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }

    .input-toggle {
      display: flex;
      gap: 1em;
      margin-bottom: 2.5em;
    }

    .toggle-btn {
      flex: 1;
      padding: 1em 1.5em;
      background: white;
      border: 2px solid var(--border);
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      color: var(--text-light);
      font-size: 0.95em;
    }

    .toggle-btn:hover {
      border-color: var(--primary);
      color: var(--primary);
    }

    .toggle-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .input-method {
      margin-top: 2em;
    }

    .input-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5em;
    }

    .input-box {
      transition: all 0.3s ease;
    }

    .input-box:focus-within label {
      color: #FFD6BA;
    }

    label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.8em;
      color: var(--text);
      font-size: 0.95em;
    }

    input, select {
      width: 100%;
      padding: 1em;
      border: 2px solid var(--border);
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s ease;
      background: white;
      color: var(--text);
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(146, 72, 122, 0.1);
    }

    .size-selector {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
      gap: 1em;
      margin-top: 1em;
    }

    .size-option {
      padding: 1.2em;
      border: 2px solid var(--border);
      border-radius: 12px;
      text-align: center;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1em;
      transition: all 0.3s ease;
      background: white;
      color: var(--text);
    }

    .size-option:hover {
      border-color: var(--primary);
      background: var(--secondary);
    }

    .size-option.selected {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .convert-btn {
      width: 100%;
      padding: 1.5em;
      background: var(--primary);
      color: white;
      border: 2px solid var(--primary);
      border-radius: 14px;
      font-size: 1.2em;
      font-weight: 700;
      cursor: pointer;
      margin-top: 2em;
      transition: all 0.3s ease;
    }

    .convert-btn:hover {
      background: var(--accent);
      border-color: var(--accent);
    }

    .results {
      display: none;
    }

    .results.show {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    .result-header {
      text-align: center;
      margin-bottom: 1.5rem;
      padding: 1rem 0;
    }

    .result-header h2 {
      font-size: 1.25rem;
      color: var(--text);
      margin-bottom: 0.75rem;
      font-weight: 700;
    }

    .your-size {
      display: inline-block;
      padding: 0.5rem 1.25rem;
      background: var(--primary);
      color: white;
      border-radius: 50px;
      font-size: 1.5rem;
      font-weight: 700;
      border: 2px solid var(--primary);
    }

    .brand-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .brand-card {
      background: white;
      border: 2px solid var(--border);
      border-radius: 12px;
      padding: 1rem;
      transition: all 0.3s ease;
    }

    .brand-card:hover {
      border-color: var(--primary);
      background: var(--secondary);
      box-shadow: 0 2px 8px rgba(84, 8, 99, 0.1);
    }

    .brand-name {
      font-size: 1rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 0.5rem;
    }

    .size-display {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--primary);
      margin: 0.25rem 0;
    }

    .size-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 0.5rem;
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid var(--border);
    }

    .size-detail {
      background: var(--secondary);
      padding: 0.5rem;
      border-radius: 6px;
      text-align: center;
    }

    .size-label {
      font-size: 0.65rem;
      color: var(--text-light);
      text-transform: uppercase;
      font-weight: 600;
      letter-spacing: 0.5px;
      margin-bottom: 0.2rem;
    }

    .size-value {
      font-size: 0.85rem;
      font-weight: 700;
      color: var(--text);
    }

    .note {
      background: var(--secondary);
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1.5rem;
      border-left: 3px solid var(--primary);
      color: var(--text);
      font-size: 0.85rem;
      line-height: 1.5;
    }

    .note strong {
      color: var(--text);
      font-weight: 700;
    }

    .measurement-guide {
      background: var(--secondary);
      padding: 2em;
      border-radius: 16px;
      margin-top: 2em;
      border: 2px solid var(--border);
    }

    .measurement-guide h3 {
      font-size: 1.3em;
      margin-bottom: 1em;
      color: var(--text);
      font-weight: 700;
    }

    .measurement-guide ul {
      list-style: none;
      padding-left: 0;
    }

    .measurement-guide li {
      padding: 0.8em 0;
      padding-left: 2em;
      position: relative;
      color: var(--text-light);
    }

    .measurement-guide li::before {
      content: 'âœ“';
      position: absolute;
      left: 0;
      color: var(--success);
      font-weight: 700;
    }

    @media (max-width: 768px) {
      body {
        padding: 1rem 0.5rem;
      }

      .container {
        padding: 1rem 0.5rem;
      }

      .header {
        padding: 1rem 0;
        margin-bottom: 1.5rem;
      }

      h1 {
        font-size: 1.75rem;
      }

      .subtitle {
        font-size: 0.9rem;
      }

      .tabs {
        display: flex;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        gap: 0.5rem;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
      }

      .tabs::-webkit-scrollbar {
        display: none;
      }

      .tab {
        min-width: 120px;
        padding: 0.75rem 1rem;
        font-size: 0.9rem;
        flex-shrink: 0;
      }

      .content {
        padding: 0;
      }

      .input-section {
        padding: 0;
        margin-bottom: 1.5rem;
      }

      .section-title {
        font-size: 1rem;
        margin-bottom: 1rem;
      }

      .input-toggle {
        gap: 0.5rem;
        margin-bottom: 1rem;
      }

      .toggle-btn {
        padding: 0.75rem 1rem;
        font-size: 0.85rem;
      }

      .size-selector {
        grid-template-columns: repeat(4, 1fr);
        gap: 0.5rem;
      }

      .size-option {
        padding: 0.75rem 0.5rem;
        font-size: 0.9rem;
      }

      .input-group {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .input-box {
        max-width: 100% !important;
      }

      .input-box input,
      .input-box select {
        font-size: 1rem;
        padding: 0.875rem;
      }

      .convert-btn {
        padding: 1rem;
        font-size: 1rem;
        margin-top: 1.5rem;
      }

      .result-header {
        padding: 0.75rem 0;
        margin-bottom: 1rem;
      }

      .result-header h2 {
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
      }

      .your-size {
        font-size: 1.25rem;
        padding: 0.4rem 1rem;
      }

      .brand-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
        margin-bottom: 1.5rem;
      }

      .brand-card {
        padding: 0.75rem;
      }

      .brand-name {
        font-size: 0.9rem;
        margin-bottom: 0.4rem;
      }

      .size-display {
        font-size: 1.5rem;
        margin: 0.25rem 0;
      }

      .size-details {
        gap: 0.4rem;
        margin-top: 0.5rem;
        padding-top: 0.5rem;
      }

      .size-detail {
        padding: 0.4rem;
      }

      .size-label {
        font-size: 0.6rem;
      }

      .size-value {
        font-size: 0.8rem;
      }

      .measurement-guide {
        padding: 1rem;
        margin-top: 1rem;
        font-size: 0.85rem;
      }

      .measurement-guide h3 {
        font-size: 0.95rem;
        margin-bottom: 0.75rem;
      }

      .measurement-guide li {
        padding: 0.5rem 0;
        padding-left: 1.5rem;
        font-size: 0.85rem;
      }

      .note {
        padding: 0.75rem;
        margin-top: 1rem;
        font-size: 0.8rem;
      }

      .product-promo {
        padding: 1rem !important;
        margin-top: 1.5rem !important;
      }

      .product-promo h3 {
        font-size: 1.1rem !important;
        margin-bottom: 0.75rem !important;
      }

      .product-promo p {
        font-size: 0.85rem !important;
        margin-bottom: 1rem !important;
      }

      .product-promo a {
        padding: 0.6rem 1rem !important;
        font-size: 0.85rem !important;
        display: block;
        margin-bottom: 0.5rem;
      }

      .product-promo > div {
        flex-direction: column !important;
        gap: 0.5rem !important;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Universal Size Converter</h1>
      <p class="subtitle">Find your perfect size across all brands and countries</p>
    </div>

    <div class="content">
      <div class="tabs">
        <button class="tab active" onclick="switchTab('womens')">Women's Clothing</button>
        <button class="tab" onclick="switchTab('mens')">Men's Clothing</button>
        <button class="tab" onclick="switchTab('shoes')">Shoes</button>
      </div>

      <!-- WOMEN'S SECTION -->
      <div id="womens" class="tab-content active">
        <div class="input-section">
          <div class="section-title">What are you shopping for?</div>

          <div class="input-toggle" style="margin-bottom: 1.5rem;">
            <button class="toggle-btn active" onclick="toggleWearType('women', 'top')" id="womenTopBtn">Top Wear</button>
            <button class="toggle-btn" onclick="toggleWearType('women', 'bottom')" id="womenBottomBtn">Bottom Wear</button>
          </div>

          <div id="womenTopSection">
            <div class="section-title" style="margin-top: 1em;">How would you like to find your size?</div>
          <div class="input-toggle">
            <button class="toggle-btn active" onclick="toggleInput('women', 'letter')">Letter Size</button>
            <button class="toggle-btn" onclick="toggleInput('women', 'measurements')">Measurements</button>
          </div>
          </div>

          <div id="womenBottomSection" style="display:none;">
            <div class="section-title" style="margin-top: 0; font-size: 1rem;">How would you like to find your size?</div>
            <div class="input-toggle">
              <button class="toggle-btn active" onclick="toggleInput('women', 'letter')">Letter Size</button>
              <button class="toggle-btn" onclick="toggleInput('women', 'waist')">Waist Measurement</button>
            </div>
            <div id="womenWaistInput" class="input-method" style="display:none;">
              <div class="input-group">
              <div class="input-box" style="max-width: 100%; margin: 0 auto;">
                <label>Waist Size (inches)</label>
                <input type="number" id="womenWaistInches" placeholder="Enter waist size" min="20" max="50" step="0.5">
              </div>
              </div>
              <div class="measurement-guide">
                <h3>How to Measure</h3>
                <ul>
                  <li><strong>Waist:</strong> Measure around your natural waistline</li>
                  <li>For pants and jeans, measure where you want the waistband to sit</li>
                </ul>
              </div>
            </div>
          </div>

          <div id="womenLetter" class="input-method">
            <label>Select Your Current Size:</label>
            <div class="size-selector">
              <div class="size-option" onclick="selectSize(this, 'women', 'XXS')">XXS</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XS')">XS</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'S')">S</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'M')">M</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'L')">L</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XL')">XL</div>
              <div class="size-option" onclick="selectSize(this, 'women', 'XXL')">XXL</div>
              <div class="size-option" onclick="selectSize(this, 'women', '3XL')">3XL</div>
            </div>
            <input type="hidden" id="womenSelectedSize">
          </div>

          <div id="womenMeasurements" class="input-method" style="display:none;">
            <div class="input-group">
              <div class="input-box">
                <label>Bust (cm):</label>
                <input type="number" id="womenBust" placeholder="Enter bust measurement" min="60" max="150">
              </div>
              <div class="input-box">
                <label>Waist (cm)</label>
                <input type="number" id="womenWaist" placeholder="Enter waist measurement" min="50" max="150">
              </div>
              <div class="input-box">
                <label>Hips (cm)</label>
                <input type="number" id="womenHips" placeholder="Enter hip measurement" min="60" max="150">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>How to Measure</h3>
              <ul>
                <li><strong>Bust:</strong> Measure around the fullest part of your chest</li>
                <li><strong>Waist:</strong> Measure around your natural waistline</li>
                <li><strong>Hips:</strong> Measure around the fullest part of your hips</li>
              </ul>
            </div>
          </div>

          <button class="convert-btn" onclick="convertWomens()">Find My Size</button>
        </div>
        <div id="womensResults" class="results"></div>
      </div>

      <!-- MEN'S SECTION -->
      <div id="mens" class="tab-content">
        <div class="input-section">
          <div class="section-title">What are you shopping for?</div>

          <div class="input-toggle" style="margin-bottom: 1.5rem;">
            <button class="toggle-btn active" onclick="toggleWearType('men', 'top')" id="menTopBtn">Top Wear</button>
            <button class="toggle-btn" onclick="toggleWearType('men', 'bottom')" id="menBottomBtn">Bottom Wear</button>
          </div>

          <div id="menTopSection">
            <div class="section-title" style="margin-top: 0; font-size: 1rem;">How would you like to find your size?</div>
            <div class="input-toggle">
              <button class="toggle-btn active" onclick="toggleInput('men', 'letter')">Letter Size</button>
              <button class="toggle-btn" onclick="toggleInput('men', 'measurements')">Measurements</button>
            </div>
          </div>

          <div id="menBottomSection" style="display:none;">
            <div class="section-title" style="margin-top: 0; font-size: 1rem;">How would you like to find your size?</div>
            <div class="input-toggle">
              <button class="toggle-btn active" onclick="toggleInput('men', 'letter')">Letter Size</button>
              <button class="toggle-btn" onclick="toggleInput('men', 'waist')">Waist Measurement</button>
            </div>
            <div id="menWaistInput" class="input-method" style="display:none;">
              <div class="input-group">
              <div class="input-box" style="max-width: 100%; margin: 0 auto;">
                <label>Waist Size (inches)</label>
                <input type="number" id="menWaistInches" placeholder="Enter waist size" min="24" max="50" step="0.5">
              </div>
              </div>
              <div class="measurement-guide">
                <h3>How to Measure</h3>
                <ul>
                  <li><strong>Waist:</strong> Measure around your natural waistline</li>
                  <li>For pants and jeans, measure where you want the waistband to sit</li>
                </ul>
              </div>
            </div>
          </div>

          <div id="menLetter" class="input-method">
            <label>Select Your Current Size:</label>
            <div class="size-selector">
              <div class="size-option" onclick="selectSize(this, 'men', 'XS')">XS</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'S')">S</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'M')">M</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'L')">L</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'XL')">XL</div>
              <div class="size-option" onclick="selectSize(this, 'men', 'XXL')">XXL</div>
              <div class="size-option" onclick="selectSize(this, 'men', '3XL')">3XL</div>
              <div class="size-option" onclick="selectSize(this, 'men', '4XL')">4XL</div>
            </div>
            <input type="hidden" id="menSelectedSize">
          </div>

          <div id="menMeasurements" class="input-method" style="display:none;">
            <div class="input-group">
              <div class="input-box">
                <label>Chest (cm)</label>
                <input type="number" id="menChest" placeholder="Enter chest measurement" min="70" max="160">
              </div>
              <div class="input-box">
                <label>Waist (cm)</label>
                <input type="number" id="menWaist" placeholder="Enter waist measurement" min="60" max="150">
              </div>
            </div>
            <div class="measurement-guide">
              <h3>How to Measure</h3>
              <ul>
                <li><strong>Chest:</strong> Measure around the fullest part of your chest, under your arms</li>
                <li><strong>Waist:</strong> Measure around your natural waistline</li>
              </ul>
            </div>
          </div>

          <button class="convert-btn" onclick="convertMens()" id="menConvertBtn">Find My Size</button>
          <button class="convert-btn" onclick="convertMensBottom()" id="menBottomConvertBtn" style="display:none;">Find My Size</button>
        </div>
        <div id="mensResults" class="results"></div>
      </div>

      <!-- SHOES SECTION -->
      <div id="shoes" class="tab-content">
        <div class="input-section">
          <div class="section-title">Enter Your Shoe Information</div>
          <div class="input-group">
            <div class="input-box">
              <label>Gender:</label>
              <select id="shoeGender">
                <option>Women's</option>
                <option>Men's</option>
              </select>
            </div>
            <div class="input-box">
              <label>Your Size:</label>
              <input type="number" step="0.5" id="shoeSize" placeholder="Enter size" min="1" max="20">
            </div>
            <div class="input-box">
              <label>Size System:</label>
              <select id="shoeSystem">
                <option value="us">US</option>
                <option value="uk">UK</option>
                <option value="eu">EU</option>
                <option value="au">AU</option>
              </select>
            </div>
          </div>
          <button class="convert-btn" onclick="convertShoes()">Convert Shoe Size</button>
        </div>
        <div id="shoesResults" class="results"></div>
      </div>
    </div>
  </div>

  <script>
    // Verified accurate size conversion data - cross-referenced from multiple official sources
    // Women's Tops: Combined U.S. Standard + UK Standard sizing
    const womenSizeMap = {
      'XXS': { us: '0-2', uk: '4', eu: '32', au: '4', bust: '76-78', bustIn: '30-31', waist: '56', waistIn: '22', hips: '84-86', hipsIn: '33-34' },
      'XS': { us: '2-4', uk: '6', eu: '34', au: '6', bust: '78-81', bustIn: '31-32', waist: '60', waistIn: '24', hips: '86-89', hipsIn: '34-35' },
      'S': { us: '4-6', uk: '8', eu: '36', au: '8', bust: '81-86', bustIn: '32-34', waist: '66', waistIn: '26', hips: '89-94', hipsIn: '35-37' },
      'M': { us: '8-10', uk: '10-12', eu: '38-40', au: '10-12', bust: '86-91', bustIn: '34-36', waist: '72-78', waistIn: '28-30', hips: '94-99', hipsIn: '37-39' },
      'L': { us: '12-14', uk: '14-16', eu: '42-44', au: '14-16', bust: '96-101', bustIn: '38-40', waist: '82-88', waistIn: '32-34', hips: '99-105', hipsIn: '39-41.5' },
      'XL': { us: '16', uk: '18', eu: '46', au: '18', bust: '101-108', bustIn: '40-43', waist: '88-92', waistIn: '34-36', hips: '105-112', hipsIn: '41.5-44' },
      'XXL': { us: '18-20', uk: '20-22', eu: '48-50', au: '20-22', bust: '108-117', bustIn: '43-46', waist: '92-99', waistIn: '36-39', hips: '112-122', hipsIn: '44-48' },
      '3XL': { us: '22-24', uk: '24-26', eu: '52-54', au: '24-26', bust: '117-127', bustIn: '46-50', waist: '99-107', waistIn: '39-42', hips: '122-132', hipsIn: '48-52' }
    };
    
    // Women's Bottoms: Verified from UK Standard + U.S. Standard charts
    const womenBottomSizeMap = {
      'XXS': { uk: '4', us: '0-2', eu: '32', waist: '22', waistCm: '56', hip: '33.5-34', hipCm: '84-86' },
      'XS': { uk: '6', us: '2-4', eu: '34', waist: '24', waistCm: '60', hip: '34-35', hipCm: '86-89' },
      'S': { uk: '8', us: '4-6', eu: '36', waist: '26', waistCm: '66', hip: '35-37', hipCm: '89-94' },
      'M': { uk: '10-12', us: '8-10', eu: '38-40', waist: '28-30', waistCm: '72-78', hip: '37-39', hipCm: '94-99' },
      'L': { uk: '14-16', us: '12-14', eu: '42-44', waist: '32-34', waistCm: '82-88', hip: '39-42', hipCm: '99-107' },
      'XL': { uk: '18', us: '16', eu: '46', waist: '34-36', waistCm: '88-92', hip: '42-44', hipCm: '107-112' },
      'XXL': { uk: '20-22', us: '18-20', eu: '48-50', waist: '36-39', waistCm: '92-99', hip: '44-48', hipCm: '112-122' },
      '3XL': { uk: '24-26', us: '22-24', eu: '52-54', waist: '39-42', waistCm: '99-107', hip: '48-52', hipCm: '122-132' }
    };

    // Men's sizes - Verified from U.S. Standard + UK Standard + European charts
    // Men's Tops: Chest, Neck, Sleeve measurements
    const menSizeMap = {
      'XS': { us: 'XS', uk: '32-34', eu: '42-44', au: 'XS', chest: '81-91', chestIn: '32-36', waist: '71-76', waistIn: '28', neck: '14-14.5', neckCm: '35.5-37', sleeve: '32.5-33', sleeveCm: '82.5-84' },
      'S': { us: 'S', uk: '36-38', eu: '46-48', au: 'S', chest: '91-101', chestIn: '36-40', waist: '76-81', waistIn: '30-32', neck: '15-15.5', neckCm: '38-39.5', sleeve: '33.5-34', sleeveCm: '85-86' },
      'M': { us: 'M', uk: '38-40', eu: '48-50', au: 'M', chest: '101-111', chestIn: '40-44', waist: '81-86', waistIn: '32-34', neck: '16-16.5', neckCm: '40.5-42', sleeve: '34.5-35', sleeveCm: '87.5-89' },
      'L': { us: 'L', uk: '40-42', eu: '50-52', au: 'L', chest: '111-121', chestIn: '44-48', waist: '86-91', waistIn: '34-36', neck: '17', neckCm: '43', sleeve: '35.5-36', sleeveCm: '90-91.5' },
      'XL': { us: 'XL', uk: '42-44', eu: '52-54', au: 'XL', chest: '121-127', chestIn: '48-50', waist: '91-96', waistIn: '36-38', neck: '17.5', neckCm: '44.5', sleeve: '36', sleeveCm: '91.5' },
      'XXL': { us: '2XL', uk: '44-46', eu: '54-56', au: '2XL', chest: '127-132', chestIn: '50-52', waist: '96-101', waistIn: '38-40', neck: '18', neckCm: '45.5', sleeve: '36.5', sleeveCm: '92.5' },
      '3XL': { us: '3XL', uk: '46-50', eu: '56-60', au: '3XL', chest: '132-137', chestIn: '52-54', waist: '101-106', waistIn: '40-42', neck: '18.5', neckCm: '47', sleeve: '36.5', sleeveCm: '92.5' },
      '4XL': { us: '4XL', uk: '50+', eu: '60+', au: '4XL', chest: '137+', chestIn: '54+', waist: '106+', waistIn: '42+', neck: '19+', neckCm: '48+', sleeve: '37+', sleeveCm: '94+' }
    };
    
    // Men's Bottoms: Verified from UK Standard + U.S. Standard charts
    const menBottomSizeMap = {
      'XS': { uk: '28', us: 'XS', eu: '44', waist: '28', waistCm: '71', waistRange: '28-30', waistRangeCm: '71-76' },
      'S': { uk: '30-32', us: 'S', eu: '46-48', waist: '30-32', waistCm: '76-81', waistRange: '30-32', waistRangeCm: '76-81' },
      'M': { uk: '32-34', us: 'M', eu: '48-50', waist: '32-34', waistCm: '81-86', waistRange: '32-34', waistRangeCm: '81-86' },
      'L': { uk: '34-36', us: 'L', eu: '50-52', waist: '34-36', waistCm: '86-91', waistRange: '34-36', waistRangeCm: '86-91' },
      'XL': { uk: '36-38', us: 'XL', eu: '52-54', waist: '36-38', waistCm: '91-96', waistRange: '36-38', waistRangeCm: '91-96' },
      'XXL': { uk: '38-40', us: '2XL', eu: '54-56', waist: '38-40', waistCm: '96-101', waistRange: '38-40', waistRangeCm: '96-101' },
      '3XL': { uk: '40-42', us: '3XL', eu: '56-58', waist: '40-42', waistCm: '101-106', waistRange: '40-42', waistRangeCm: '101-106' },
      '4XL': { uk: '42+', us: '4XL', eu: '58+', waist: '42+', waistCm: '106+', waistRange: '42+', waistRangeCm: '106+' }
    };

    function switchTab(tab) {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      event.target.classList.add('active');
      document.getElementById(tab).classList.add('active');
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function toggleInput(gender, method) {
      const buttons = event.target.parentElement.querySelectorAll('.toggle-btn');
      buttons.forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');

      const letterDiv = document.getElementById(gender + 'Letter');
      const measurementsDiv = document.getElementById(gender + 'Measurements');
      const waistInputDiv = document.getElementById(gender + 'WaistInput');

      if (method === 'letter') {
        if (letterDiv) letterDiv.style.display = 'block';
        if (measurementsDiv) measurementsDiv.style.display = 'none';
        if (waistInputDiv) waistInputDiv.style.display = 'none';
        
        if (gender === 'women') {
          document.getElementById('womenBust').value = '';
          document.getElementById('womenWaist').value = '';
          document.getElementById('womenHips').value = '';
          document.getElementById('womenWaistInches').value = '';
        } else if (gender === 'men') {
          document.getElementById('menChest').value = '';
          document.getElementById('menWaist').value = '';
          document.getElementById('menWaistInches').value = '';
        }
      } else if (method === 'measurements') {
        if (letterDiv) letterDiv.style.display = 'none';
        if (measurementsDiv) measurementsDiv.style.display = 'block';
        if (waistInputDiv) waistInputDiv.style.display = 'none';
        
        const letterSection = document.getElementById(gender + 'Letter');
        if (letterSection) {
          const sizeOptions = letterSection.querySelectorAll('.size-option');
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
        }
        document.getElementById(gender + 'SelectedSize').value = '';
      } else if (method === 'waist') {
        if (letterDiv) letterDiv.style.display = 'none';
        if (measurementsDiv) measurementsDiv.style.display = 'none';
        if (waistInputDiv) waistInputDiv.style.display = 'block';
        
        const letterSection = document.getElementById(gender + 'Letter');
        if (letterSection) {
          const sizeOptions = letterSection.querySelectorAll('.size-option');
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
        }
        document.getElementById(gender + 'SelectedSize').value = '';
        
        if (gender === 'women') {
          document.getElementById('womenBust').value = '';
          document.getElementById('womenWaist').value = '';
          document.getElementById('womenHips').value = '';
        } else if (gender === 'men') {
          document.getElementById('menChest').value = '';
          document.getElementById('menWaist').value = '';
        }
      }
    }

    function selectSize(element, gender, size) {
      const container = element.parentElement;
      container.querySelectorAll('.size-option').forEach(opt => opt.classList.remove('selected'));
      element.classList.add('selected');
      document.getElementById(gender + 'SelectedSize').value = size;
    }

    function toggleWearType(gender, type) {
      const topBtn = document.getElementById(gender + 'TopBtn');
      const bottomBtn = document.getElementById(gender + 'BottomBtn');
      const topSection = document.getElementById(gender + 'TopSection');
      const bottomSection = document.getElementById(gender + 'BottomSection');
      const topConvertBtn = document.getElementById(gender + 'ConvertBtn');
      const bottomConvertBtn = document.getElementById(gender + 'BottomConvertBtn');
      
      topBtn.classList.remove('active');
      bottomBtn.classList.remove('active');
      
      if (type === 'top') {
        topBtn.classList.add('active');
        topSection.style.display = 'block';
        bottomSection.style.display = 'none';
        if (topConvertBtn) topConvertBtn.style.display = 'block';
        if (bottomConvertBtn) bottomConvertBtn.style.display = 'none';
        
        // Reset bottom wear inputs
        if (gender === 'women') {
          const waistInput = document.getElementById('womenWaistInput');
          if (waistInput) waistInput.style.display = 'none';
          const waistInchesInput = document.getElementById('womenWaistInches');
          if (waistInchesInput) waistInchesInput.value = '';
        } else if (gender === 'men') {
          const waistInput = document.getElementById('menWaistInput');
          if (waistInput) waistInput.style.display = 'none';
          const waistInchesInput = document.getElementById('menWaistInches');
          if (waistInchesInput) waistInchesInput.value = '';
        }
      } else {
        bottomBtn.classList.add('active');
        topSection.style.display = 'none';
        bottomSection.style.display = 'block';
        if (topConvertBtn) topConvertBtn.style.display = 'none';
        if (bottomConvertBtn) bottomConvertBtn.style.display = 'block';
        
        // Show letter size selector by default for bottom wear
        if (gender === 'women') {
          const letterDiv = document.getElementById('womenLetter');
          const waistInput = document.getElementById('womenWaistInput');
          if (letterDiv) letterDiv.style.display = 'block';
          if (waistInput) waistInput.style.display = 'none';
          // Reset selected size
          const selectedSizeInput = document.getElementById('womenSelectedSize');
          if (selectedSizeInput) selectedSizeInput.value = '';
          const sizeOptions = letterDiv ? letterDiv.querySelectorAll('.size-option') : [];
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
        } else if (gender === 'men') {
          const letterDiv = document.getElementById('menLetter');
          const waistInput = document.getElementById('menWaistInput');
          if (letterDiv) letterDiv.style.display = 'block';
          if (waistInput) waistInput.style.display = 'none';
          // Reset selected size
          const selectedSizeInput = document.getElementById('menSelectedSize');
          if (selectedSizeInput) selectedSizeInput.value = '';
          const sizeOptions = letterDiv ? letterDiv.querySelectorAll('.size-option') : [];
          sizeOptions.forEach(opt => opt.classList.remove('selected'));
        }
      }
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function convertWomensBottom() {
      const selectedSize = document.getElementById('womenSelectedSize').value;
      const waistInches = parseFloat(document.getElementById('womenWaistInches').value);
      
      let letterSize;
      let waistInchesValue = null;
      let waistCm = null;
      
      // Check if user selected letter size first
      if (selectedSize) {
        letterSize = selectedSize;
        // Get waist range from size map for display
        const bottomSize = womenBottomSizeMap[letterSize];
        if (bottomSize && bottomSize.waistRange) {
          waistInchesValue = bottomSize.waistRange;
        }
      } else if (waistInches) {
        // User entered waist measurement - check if it's within valid range
        if (waistInches < 20 || waistInches > 50) {
          alert('Please enter a valid waist size between 20 and 50 inches');
          return;
        }
        
        waistInchesValue = waistInches;
        waistCm = waistInches * 2.54;
        
        // Waist size to letter size mapping - verified from U.S. Standard + UK Standard charts
        // XXS: 22", XS: 24", S: 26", M: 28-30", L: 32-34", XL: 34-36", XXL: 36-39"
        if (waistInches < 23) letterSize = 'XXS';
        else if (waistInches < 25) letterSize = 'XS';
        else if (waistInches < 27) letterSize = 'S';
        else if (waistInches < 31) letterSize = 'M';
        else if (waistInches < 35) letterSize = 'L';
        else if (waistInches < 39) letterSize = 'XL';
        else if (waistInches < 42) letterSize = 'XXL';
        else letterSize = '3XL';
      } else {
        alert('Please select a size or enter a waist measurement');
        return;
      }
      
      const bottomSize = womenBottomSizeMap[letterSize];
      if (!bottomSize) {
        alert('Invalid size');
        return;
      }
      
      // Get corresponding top size for brand conversions
      const size = womenSizeMap[letterSize];
      if (!size) {
        alert('Invalid size');
        return;
      }

      const brands = [
        { name: 'Zara', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'Runs small' },
        { name: 'H&M', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'Standard fit' },
        { name: 'ASOS', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: size.eu, au: bottomSize.uk, letter: letterSize, note: 'True to size' },
        { name: 'Target AU', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Uniqlo', size: letterSize, us: size.us, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Nike', size: letterSize, us: size.us, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: letterSize, us: size.us, uk: bottomSize.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Forever 21', size: size.us, us: size.us, letter: letterSize, note: 'Runs small' },
        { name: 'Cotton On', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Pant Size Is:</h2>
          <div class="your-size">${letterSize}</div>
          ${waistInchesValue ? `<div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">Waist: ${typeof waistInchesValue === 'number' ? waistInchesValue + '" (' + waistCm.toFixed(1) + 'cm)' : waistInchesValue + '"'} | UK: ${bottomSize.uk}</div>` : ''}
          <div style="font-size: 0.7rem; color: var(--text-light); margin-top: 0.15rem;">Standard Range: Waist ${bottomSize.waist}" (${bottomSize.waistCm}cm) | Hip: ${bottomSize.hip}" (${bottomSize.hipCm}cm)</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">ðŸ’¡ <strong>Pro Tip:</strong> Pant sizes vary by brand and style. Low-rise vs high-rise, stretch vs non-stretch fabrics all affect fit. When in doubt, check the brand\'s specific size chart!</div>';

      document.getElementById('womensResults').innerHTML = html;
      document.getElementById('womensResults').classList.add('show');
      document.getElementById('womensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertWomens() {
      // Check if bottom wear is selected
      const bottomBtn = document.getElementById('womenBottomBtn');
      if (bottomBtn && bottomBtn.classList.contains('active')) {
        convertWomensBottom();
        return;
      }
      
      const selectedSize = document.getElementById('womenSelectedSize').value;
      const bust = parseFloat(document.getElementById('womenBust').value);
      const waist = parseFloat(document.getElementById('womenWaist').value);
      const hips = parseFloat(document.getElementById('womenHips').value);

      let letterSize;

      if (selectedSize) {
        letterSize = selectedSize;
      } else if (bust || waist || hips) {
        // Match measurements to actual size ranges from sizeMap
        // Find the size that best matches all provided measurements
        let bestMatch = null;
        let bestScore = -1;
        
        for (const [size, data] of Object.entries(womenSizeMap)) {
          let score = 0;
          let matches = 0;
          
          if (bust) {
            const bustRange = data.bust.split('-');
            const minBust = parseFloat(bustRange[0]);
            const maxBust = bustRange[1] ? parseFloat(bustRange[1].replace('+', '')) : minBust + 10;
            if (bust >= minBust && bust <= maxBust) {
              score += 3;
              matches++;
            } else if (bust >= minBust - 2 && bust <= maxBust + 2) {
              score += 1;
            }
          }
          
          if (waist) {
            const waistRange = data.waist.split('-');
            const minWaist = parseFloat(waistRange[0]);
            const maxWaist = waistRange[1] ? parseFloat(waistRange[1].replace('+', '')) : minWaist + 10;
            if (waist >= minWaist && waist <= maxWaist) {
              score += 3;
              matches++;
            } else if (waist >= minWaist - 2 && waist <= maxWaist + 2) {
              score += 1;
            }
          }
          
          if (hips) {
            const hipsRange = data.hips.split('-');
            const minHips = parseFloat(hipsRange[0]);
            const maxHips = hipsRange[1] ? parseFloat(hipsRange[1].replace('+', '')) : minHips + 10;
            if (hips >= minHips && hips <= maxHips) {
              score += 3;
              matches++;
            } else if (hips >= minHips - 2 && hips <= maxHips + 2) {
              score += 1;
            }
          }
          
          if (score > bestScore) {
            bestScore = score;
            bestMatch = size;
          }
        }
        
        if (bestMatch) {
          letterSize = bestMatch;
        } else {
          // Fallback: use bust measurement with accurate thresholds
          if (bust) {
            if (bust < 80) letterSize = 'XXS';
            else if (bust < 85) letterSize = 'XS';
            else if (bust < 90) letterSize = 'S';
            else if (bust < 95) letterSize = 'M';
            else if (bust < 100) letterSize = 'L';
            else if (bust < 106) letterSize = 'XL';
            else if (bust < 112) letterSize = 'XXL';
            else letterSize = '3XL';
          } else {
            alert('Please enter at least bust measurement for accurate sizing');
            return;
          }
        }
      } else {
        alert('Please select a size or enter at least one measurement');
        return;
      }

      const size = womenSizeMap[letterSize];
      if (!size) {
        alert('Invalid size selected');
        return;
      }

      // Brand-specific sizing (based on real brand size charts)
      const brands = [
        { name: 'Zara', size: size.eu, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Runs small' },
        { name: 'H&M', size: size.us, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Standard fit' },
        { name: 'ASOS', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'True to size' },
        { name: 'Target AU', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Uniqlo', size: letterSize, us: size.us, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Nike', size: letterSize, us: size.us, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Forever 21', size: size.us, us: size.us, letter: letterSize, note: 'Runs small' },
        { name: 'Cotton On', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Size Is:</h2>
          <div class="your-size">${letterSize}</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note"><strong>Tips:</strong> Sizes vary between brands and styles. European brands often run smaller. Check the brand\'s specific size chart when in doubt.</div>';

      document.getElementById('womensResults').innerHTML = html;
      document.getElementById('womensResults').classList.add('show');
      document.getElementById('womensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function toggleWearType(gender, type) {
      const topBtn = document.getElementById(gender + 'TopBtn');
      const bottomBtn = document.getElementById(gender + 'BottomBtn');
      const topSection = document.getElementById(gender + 'TopSection');
      const bottomSection = document.getElementById(gender + 'BottomSection');
      const topConvertBtn = document.getElementById(gender + 'ConvertBtn');
      const bottomConvertBtn = document.getElementById(gender + 'BottomConvertBtn');
      
      topBtn.classList.remove('active');
      bottomBtn.classList.remove('active');
      
      if (type === 'top') {
        topBtn.classList.add('active');
        topSection.style.display = 'block';
        bottomSection.style.display = 'none';
        topConvertBtn.style.display = 'block';
        bottomConvertBtn.style.display = 'none';
      } else {
        bottomBtn.classList.add('active');
        topSection.style.display = 'none';
        bottomSection.style.display = 'block';
        topConvertBtn.style.display = 'none';
        bottomConvertBtn.style.display = 'block';
      }
      
      // Reset results
      document.querySelectorAll('.results').forEach(r => {
        r.classList.remove('show');
        r.innerHTML = '';
      });
    }

    function convertMensBottom() {
      const selectedSize = document.getElementById('menSelectedSize').value;
      const waistInches = parseFloat(document.getElementById('menWaistInches').value);
      
      let letterSize;
      let waistInchesValue = null;
      let waistCm = null;
      
      // Check if user selected letter size first
      if (selectedSize) {
        letterSize = selectedSize;
        // Get waist range from size map for display
        const bottomSize = menBottomSizeMap[letterSize];
        if (bottomSize && bottomSize.waistRange) {
          waistInchesValue = bottomSize.waistRange;
        }
      } else if (waistInches && waistInches >= 24 && waistInches <= 50) {
        // User entered waist measurement
        waistInchesValue = waistInches;
        waistCm = waistInches * 2.54;
        
        // Waist size to letter size mapping - verified from U.S. Standard + UK Standard charts
        // XS: 28", S: 30-32", M: 32-34", L: 34-36", XL: 36-38", XXL: 38-40", 3XL: 40-42"
        if (waistInches < 29) letterSize = 'XS';
        else if (waistInches < 33) letterSize = 'S';
        else if (waistInches < 35) letterSize = 'M';
        else if (waistInches < 37) letterSize = 'L';
        else if (waistInches < 39) letterSize = 'XL';
        else if (waistInches < 41) letterSize = 'XXL';
        else if (waistInches < 43) letterSize = '3XL';
        else letterSize = '4XL';
      } else {
        alert('Please select a size or enter a valid waist size (24-50 inches)');
        return;
      }
      
      const bottomSize = menBottomSizeMap[letterSize];
      const size = menSizeMap[letterSize];
      if (!bottomSize || !size) {
        alert('Invalid size');
        return;
      }

      const brands = [
        { name: 'H&M', size: bottomSize.uk, us: size.us, uk: bottomSize.uk, eu: bottomSize.eu, au: bottomSize.uk, letter: letterSize, note: 'Standard fit' },
        { name: 'Zara', size: bottomSize.eu, eu: bottomSize.eu, letter: letterSize, note: 'Runs small' },
        { name: 'ASOS', size: bottomSize.uk, uk: bottomSize.uk, letter: letterSize, note: 'True to size' },
        { name: 'Uniqlo', size: letterSize, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Target AU', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Nike', size: letterSize, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: letterSize, us: size.us, uk: bottomSize.uk, eu: bottomSize.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Cotton On', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
        { name: 'Connor', size: bottomSize.uk, au: bottomSize.uk, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Pant Size Is:</h2>
          <div class="your-size">${letterSize}</div>
          ${waistInchesValue ? `<div style="font-size: 0.75rem; color: var(--text-light); margin-top: 0.25rem;">Waist: ${typeof waistInchesValue === 'number' ? waistInchesValue + '" (' + waistCm.toFixed(1) + 'cm)' : waistInchesValue + '"'} | UK: ${bottomSize.uk} | US: ${bottomSize.us} | EU: ${bottomSize.eu}</div>` : ''}
          <div style="font-size: 0.7rem; color: var(--text-light); margin-top: 0.15rem;">Standard Range: Waist ${bottomSize.waistRange}" (${bottomSize.waistRangeCm}cm)</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note">ðŸ’¡ <strong>Pro Tip:</strong> Pant sizes vary by brand and style. Low-rise vs high-rise, stretch vs non-stretch fabrics all affect fit. When in doubt, check the brand\'s specific size chart!</div>';

      document.getElementById('mensResults').innerHTML = html;
      document.getElementById('mensResults').classList.add('show');
      document.getElementById('mensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertMens() {
      const selectedSize = document.getElementById('menSelectedSize').value;
      const chest = parseFloat(document.getElementById('menChest').value);
      const waist = parseFloat(document.getElementById('menWaist').value);

      let letterSize;

      if (selectedSize) {
        letterSize = selectedSize;
      } else if (chest || waist) {
        // Match measurements to actual size ranges from sizeMap
        let bestMatch = null;
        let bestScore = -1;
        
        for (const [size, data] of Object.entries(menSizeMap)) {
          let score = 0;
          let matches = 0;
          
          if (chest) {
            const chestStr = data.chest.toString();
            if (chestStr.includes('-')) {
              const chestRange = chestStr.split('-');
              const minChest = parseFloat(chestRange[0]);
              const maxChest = parseFloat(chestRange[1].replace('+', ''));
              if (chest >= minChest && chest <= maxChest) {
                score += 5;
                matches++;
              } else if (chest >= minChest - 3 && chest <= maxChest + 3) {
                score += 2;
              }
            } else {
              const targetChest = parseFloat(chestStr.replace('+', ''));
              if (Math.abs(chest - targetChest) <= 2) {
                score += 5;
                matches++;
              } else if (Math.abs(chest - targetChest) <= 5) {
                score += 2;
              }
            }
          }
          
          if (waist) {
            const waistStr = data.waist.toString();
            if (waistStr.includes('-')) {
              const waistRange = waistStr.split('-');
              const minWaist = parseFloat(waistRange[0]);
              const maxWaist = parseFloat(waistRange[1].replace('+', ''));
              if (waist >= minWaist && waist <= maxWaist) {
                score += 4;
                matches++;
              } else if (waist >= minWaist - 3 && waist <= maxWaist + 3) {
                score += 1;
              }
            } else {
              const targetWaist = parseFloat(waistStr.replace('+', ''));
              if (Math.abs(waist - targetWaist) <= 2) {
                score += 4;
                matches++;
              } else if (Math.abs(waist - targetWaist) <= 5) {
                score += 1;
              }
            }
          }
          
          if (score > bestScore) {
            bestScore = score;
            bestMatch = size;
          }
        }
        
        if (bestMatch && bestScore > 0) {
          letterSize = bestMatch;
        } else {
          // Fallback: use chest measurement with accurate thresholds
          if (chest) {
            if (chest < 92) letterSize = 'XS';
            else if (chest < 98) letterSize = 'S';
            else if (chest < 104) letterSize = 'M';
            else if (chest < 110) letterSize = 'L';
            else if (chest < 116) letterSize = 'XL';
            else if (chest < 122) letterSize = 'XXL';
            else if (chest < 128) letterSize = '3XL';
            else letterSize = '4XL';
          } else {
            alert('Please enter at least chest measurement for accurate sizing');
            return;
          }
        }
      } else {
        alert('Please select a size or enter at least one measurement');
        return;
      }

      const size = menSizeMap[letterSize];
      if (!size) {
        alert('Invalid size selected');
        return;
      }

      // Brand-specific sizing (based on real brand size charts)
      const brands = [
        { name: 'H&M', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, au: size.au, letter: letterSize, note: 'Standard fit' },
        { name: 'Zara', size: size.eu, eu: size.eu, letter: letterSize, note: 'Runs small' },
        { name: 'ASOS', size: size.uk, uk: size.uk, letter: letterSize, note: 'True to size' },
        { name: 'Uniqlo', size: size.letter, letter: letterSize, note: 'Asian fit - runs small' },
        { name: 'Target AU', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Kmart', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Nike', size: size.letter, letter: letterSize, note: 'Athletic fit' },
        { name: 'Adidas', size: size.letter, us: size.us, uk: size.uk, eu: size.eu, letter: letterSize, note: 'Athletic fit' },
        { name: 'Cotton On', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
        { name: 'Connor', size: size.au, au: size.au, letter: letterSize, note: 'AU sizing' },
      ];

      let html = `
        <div class="result-header">
          <h2>Your Size Is:</h2>
          <div class="your-size">${letterSize}</div>
        </div>
        <div class="brand-grid">
      `;

      brands.forEach(brand => {
        html += `
          <div class="brand-card">
            <div class="brand-name">${brand.name}</div>
            <div class="size-display">${brand.size}</div>
            ${brand.note ? `<div style="font-size: 0.85em; color: var(--text-light); margin-top: 0.5em;">${brand.note}</div>` : ''}
            <div class="size-details">
              ${brand.letter ? `<div class="size-detail"><div class="size-label">Letter</div><div class="size-value">${brand.letter}</div></div>` : ''}
              ${brand.us ? `<div class="size-detail"><div class="size-label">US</div><div class="size-value">${brand.us}</div></div>` : ''}
              ${brand.uk ? `<div class="size-detail"><div class="size-label">UK</div><div class="size-value">${brand.uk}</div></div>` : ''}
              ${brand.eu ? `<div class="size-detail"><div class="size-label">EU</div><div class="size-value">${brand.eu}</div></div>` : ''}
              ${brand.au ? `<div class="size-detail"><div class="size-label">AU</div><div class="size-value">${brand.au}</div></div>` : ''}
            </div>
          </div>
        `;
      });

      html += '</div>';
      html += '<div class="note"><strong>Tips:</strong> Athletic brands often run smaller and tighter. European brands typically run smaller than US and AU brands. Consider sizing up for a relaxed fit.</div>';

      document.getElementById('mensResults').innerHTML = html;
      document.getElementById('mensResults').classList.add('show');
      document.getElementById('mensResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    function convertShoes() {
      const size = parseFloat(document.getElementById('shoeSize').value);
      const system = document.getElementById('shoeSystem').value;
      const gender = document.getElementById('shoeGender').value;

      if (!size || size < 1 || size > 20) {
        alert('Please enter a valid shoe size (1-20)');
        return;
      }

      let us, uk, eu, au;

      // Accurate shoe size conversions using lookup tables from real size charts
      if (gender === "Women's") {
        const womenShoeMap = {
          // UK -> [AUS, EU, US, JAPAN]
          '2': [4, 35, 4, 21], '3': [5, 36, 5, 22], '4': [6, 37, 6, 23],
          '5': [7, 38, 7, 24], '6': [8, 39, 8, 25], '7': [9, 40, 9, 26],
          '8': [10, 41, 10, 27], '9': [11, 42, 11, 28]
        };
        
        let ukSize, ausSize, euSize, usSize;
        
        if (system === 'us') {
          usSize = size;
          ukSize = size - 2;
          const map = womenShoeMap[Math.round(ukSize).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
          } else {
            ausSize = size - 0.5;
            euSize = size + 30;
          }
        } else if (system === 'uk') {
          ukSize = size;
          const map = womenShoeMap[Math.round(size).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
            usSize = map[2];
          } else {
            ausSize = size + 2;
            euSize = size + 33;
            usSize = size + 2;
          }
        } else if (system === 'eu') {
          euSize = size;
          for (const [uk, values] of Object.entries(womenShoeMap)) {
            if (values[1] === size) {
              ukSize = parseFloat(uk);
              ausSize = values[0];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 33;
            ausSize = size - 31;
            usSize = size - 31;
          }
        } else { // AU
          ausSize = size;
          for (const [uk, values] of Object.entries(womenShoeMap)) {
            if (values[0] === size) {
              ukSize = parseFloat(uk);
              euSize = values[1];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 2;
            euSize = size + 31;
            usSize = size - 2;
          }
        }
        
        us = usSize;
        uk = ukSize;
        eu = euSize;
        au = ausSize;
      } else { // Men's shoe sizes
        const menShoeMap = {
          // UK -> [AUS, EU, US, JAPAN]
          '6': [6, 39, 7, 24.5], '7': [7, 40.5, 8, 25.5], '8': [8, 42, 9, 26.5],
          '9': [9, 43, 10, 27.5], '10': [10, 44.5, 11, 28.5], '11': [11, 46, 12, 29.5],
          '12': [12, 47, 13, 30.5], '13': [13, 48, 14, 31.5], '14': [14, 49.5, 15, 32.5]
        };
        
        let ukSize, ausSize, euSize, usSize;
        
        if (system === 'us') {
          usSize = size;
          ukSize = size - 1;
          const map = menShoeMap[Math.round(ukSize).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
          } else {
            ausSize = size;
            euSize = size + 33;
          }
        } else if (system === 'uk') {
          ukSize = size;
          const map = menShoeMap[Math.round(size).toString()];
          if (map) {
            ausSize = map[0];
            euSize = map[1];
            usSize = map[2];
          } else {
            ausSize = size;
            euSize = size + 33;
            usSize = size + 1;
          }
        } else if (system === 'eu') {
          euSize = size;
          for (const [uk, values] of Object.entries(menShoeMap)) {
            if (values[1] === size || Math.abs(values[1] - size) < 1) {
              ukSize = parseFloat(uk);
              ausSize = values[0];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size - 33;
            ausSize = size - 33;
            usSize = size - 32;
          }
        } else { // AU
          ausSize = size;
          for (const [uk, values] of Object.entries(menShoeMap)) {
            if (values[0] === size) {
              ukSize = parseFloat(uk);
              euSize = values[1];
              usSize = values[2];
              break;
            }
          }
          if (!ukSize) {
            ukSize = size;
            euSize = size + 33;
            usSize = size + 1;
          }
        }
        
        us = usSize;
        uk = ukSize;
        eu = euSize;
        au = ausSize;
      }

      let html = `
        <div class="result-header">
          <h2>${gender} Shoe Size Conversion</h2>
        </div>
        <div class="brand-grid">
          <div class="brand-card">
            <div class="brand-name">US Size</div>
            <div class="size-display">${us % 1 === 0 ? us : us.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">UK Size</div>
            <div class="size-display">${uk % 1 === 0 ? uk : uk.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">EU Size</div>
            <div class="size-display">${eu % 1 === 0 ? eu : eu.toFixed(1)}</div>
          </div>
          <div class="brand-card">
            <div class="brand-name">AU Size</div>
            <div class="size-display">${au % 1 === 0 ? au : au.toFixed(1)}</div>
          </div>
        </div>
        <div class="note"><strong>Tips:</strong> Shoe sizes vary between brands. Some brands run narrow or smaller. Check the brand\'s specific size chart when possible.</div>
      `;

      document.getElementById('shoesResults').innerHTML = html;
      document.getElementById('shoesResults').classList.add('show');
      document.getElementById('shoesResults').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  </script>

  <div style="max-width: 900px; margin: 2rem auto 0; padding: 0 1rem 2rem;" class="product-promo">
    <div style="background: white; border: 2px solid var(--border); border-radius: 12px; padding: 2rem; text-align: center;">
      <h3 style="font-size: 1.25rem; font-weight: 700; color: var(--text); margin-bottom: 1rem;">Shop NutriThrive Products</h3>
      <p style="color: var(--text-light); margin-bottom: 1.5rem; font-size: 0.95rem;">Discover premium superfoods and wellness products:</p>
      <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; justify-content: center;">
        <a href="https://nutrithrive.com.au/pages/products/product-detail.html" style="background: var(--primary); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s;">Moringa Powder â†’</a>
        <a href="https://nutrithrive.com.au/pages/products/product-curry-leaves.html" style="background: var(--primary); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s;">Curry Leaves â†’</a>
        <a href="https://nutrithrive.com.au/pages/products/product-black-tea.html" style="background: var(--primary); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s;">Black Tea â†’</a>
        <a href="https://nutrithrive.com.au/pages/products/products.html" style="background: transparent; color: var(--primary); border: 2px solid var(--primary); padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.9rem; transition: all 0.3s;">All Products â†’</a>
      </div>
    </div>
  </div>
</body>
</html>

