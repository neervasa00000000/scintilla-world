<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>The Fit Atelier | Size Guide</title>

  <!-- Keep Scintilla favicon -->
  <link rel="icon" type="image/png" href="/assets/logo/favicon.png">
  <link rel="apple-touch-icon" href="/assets/logo/favicon.png">
  <link rel="shortcut icon" href="/assets/logo/favicon.png">

  <!-- Fonts: Playfair Display (Serif) & Satoshi (Sans) -->

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>

    /* --- ATELIER RESET --- */

    * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
    

    :root {

      --bg: #FDFCF8; /* Warm Sand */

      --surface: #FFFFFF;

      --ink: #4A0404; /* Deep Burgundy */

      --ink-light: #8C5E5E;

      --accent: #8CAE94; /* Sage Green */

      --border: #EBE5D9;

      --shadow: 0 10px 30px -10px rgba(74, 4, 4, 0.05);

      --radius: 2px; /* Minimal radius */

    }

    body {

      font-family: 'Satoshi', sans-serif;

      background-color: var(--bg);

      color: var(--ink);

      min-height: 100vh;

      display: flex;

      flex-direction: column;

      align-items: center;

      padding: 3rem 1rem;

      line-height: 1.6;

    }

    .container {

      width: 100%;

      max-width: 700px; /* Narrower for editorial feel */

      margin: 0 auto;

    }

    /* --- HEADER --- */

    .header {

      text-align: center;

      margin-bottom: 4rem;

      position: relative;

    }

    .header::after {

      content: '';

      display: block;

      width: 60px;

      height: 1px;

      background: var(--ink);

      margin: 2rem auto 0;

      opacity: 0.3;

    }

    .brand {

      font-family: 'Satoshi', sans-serif;

      font-size: 0.75rem;

      text-transform: uppercase;

      letter-spacing: 0.2em;

      color: var(--ink-light);

      margin-bottom: 1rem;

      display: block;

    }

    h1 {

      font-family: 'Playfair Display', serif;

      font-weight: 400;

      font-size: 3.5rem;

      line-height: 1.1;

      margin-bottom: 0.5rem;

    }

    .subtitle {

      font-family: 'Playfair Display', serif;

      font-style: italic;

      font-size: 1.2rem;

      color: var(--ink-light);

    }

    /* --- MAIN CARD --- */

    .atelier-card {

      background: var(--surface);

      border: 1px solid var(--border);

      padding: 3rem;

      box-shadow: var(--shadow);

      position: relative;

    }

    /* Decorative corners */

    .atelier-card::before, .atelier-card::after {

      content: '';

      position: absolute;

      width: 10px;

      height: 10px;

      border: 1px solid var(--ink);

      transition: all 0.3s ease;

    }

    .atelier-card::before { top: 10px; left: 10px; border-right: none; border-bottom: none; }

    .atelier-card::after { bottom: 10px; right: 10px; border-left: none; border-top: none; }

    /* --- TABS (Text Links) --- */

    .nav-tabs {

      display: flex;

      justify-content: center;

      gap: 2.5rem;

      margin-bottom: 3rem;

      border-bottom: 1px solid var(--border);

      padding-bottom: 1rem;

    }

    .nav-link {

      font-family: 'Satoshi', sans-serif;

      font-size: 0.9rem;

      text-transform: uppercase;

      letter-spacing: 0.1em;

      color: var(--ink-light);

      cursor: pointer;

      position: relative;

      padding-bottom: 0.5rem;

      transition: color 0.3s;

    }

    .nav-link:hover { color: var(--ink); }

    .nav-link.active { color: var(--ink); font-weight: 700; }

    .nav-link.active::after {

      content: '';

      position: absolute;

      bottom: -1px; /* Sit on border */

      left: 0;

      width: 100%;

      height: 2px;

      background: var(--ink);

    }

    .tab-section {

      display: none;

      animation: fadeIn 0.6s ease;

    }

    .tab-section.active { display: block; }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- CONTROLS --- */

    .control-row {

      margin-bottom: 2.5rem;

    }

    .label {

      display: block;

      font-family: 'Satoshi', sans-serif;

      font-size: 0.75rem;

      text-transform: uppercase;

      letter-spacing: 0.15em;

      color: var(--ink-light);

      margin-bottom: 1rem;

      text-align: center;

    }

    /* Minimal Toggle */

    .toggle-group {

      display: flex;

      justify-content: center;

      gap: 1rem;

    }

    .toggle-opt {

      padding: 0.5rem 1.5rem;

      border: 1px solid transparent;

      cursor: pointer;

      font-size: 0.95rem;

      color: var(--ink-light);

      transition: all 0.3s;

    }

    .toggle-opt:hover { color: var(--ink); }

    .toggle-opt.active {

      border-color: var(--ink);

      color: var(--ink);

    }

    /* Size List */

    .size-list {

      display: flex;

      flex-wrap: wrap;

      justify-content: center;

      gap: 0.5rem;

    }

    .size-btn {

      width: 50px;

      height: 50px;

      display: flex;

      align-items: center;

      justify-content: center;

      border: 1px solid var(--border);

      cursor: pointer;

      font-family: 'Playfair Display', serif;

      font-size: 1.1rem;

      transition: all 0.2s;

      background: #fff;

    }

    .size-btn:hover {

      border-color: var(--ink);

      background: #fff;

    }

    .size-btn.selected {

      background: var(--ink);

      color: #fff;

      border-color: var(--ink);

    }

    /* Inputs */

    .input-flex {

      display: flex;

      gap: 2rem;

      justify-content: center;

    }

    .input-wrap {

      position: relative;

      width: 120px;

    }

    .input-wrap label {

      display: block;

      font-size: 0.8rem;

      color: var(--ink-light);

      margin-bottom: 0.5rem;

      text-align: center;

    }

    input[type="number"], select {

      width: 100%;

      padding: 0.8rem;

      border: none;

      border-bottom: 1px solid var(--border);

      background: transparent;

      font-family: 'Playfair Display', serif;

      font-size: 1.5rem;

      text-align: center;

      color: var(--ink);

      transition: border-color 0.3s;

    }

    input[type="number"]:focus, select:focus {

      border-color: var(--ink);

    }

    /* Action Button */

    .calc-btn {

      width: 100%;

      padding: 1.2rem;

      background: var(--ink);

      color: #fff;

      border: none;

      font-family: 'Satoshi', sans-serif;

      font-weight: 500;

      text-transform: uppercase;

      letter-spacing: 0.1em;

        font-size: 0.9rem;

      cursor: pointer;

      transition: background 0.3s;

      margin-top: 2rem;

    }

    .calc-btn:hover {

      background: #2c0202;

    }

    /* --- RESULTS --- */

    .results-view {

      margin-top: 4rem;

      padding-top: 3rem;

      border-top: 1px solid var(--border);

        display: none;

      text-align: center;

    }

    .results-view.visible { display: block; animation: slideUp 0.6s ease; }

    .res-hero {

      font-family: 'Playfair Display', serif;

      font-size: 4rem;

      line-height: 1;

      color: var(--ink);

      margin-bottom: 0.5rem;

    }

    .res-sub {

      font-family: 'Satoshi', sans-serif;

        font-size: 0.9rem;

      color: var(--ink-light);

      text-transform: uppercase;

      letter-spacing: 0.05em;

      margin-bottom: 3rem;

    }

    .brand-list {

      display: grid;

        grid-template-columns: 1fr;

      border-top: 1px solid var(--border);

    }

    .brand-row {

      display: grid;

      grid-template-columns: 1.5fr 1fr 1fr 1fr 1fr 1fr;

      padding: 1.2rem 0;

      border-bottom: 1px solid var(--border);

      align-items: center;

      transition: background 0.2s;

    }

    .brand-row:hover { background: #F9F7F2; }

    .b-name { font-family: 'Playfair Display', serif; font-size: 1.1rem; text-align: left; padding-left: 1rem; }

    .b-val { font-family: 'Satoshi', sans-serif; font-size: 0.9rem; color: var(--ink-light); }

    .b-val strong { color: var(--ink); font-weight: 600; }

    .list-head {

      font-size: 0.75rem;

      text-transform: uppercase;

      letter-spacing: 0.1em;

      color: var(--ink-light);

        padding-bottom: 0.5rem;

    }

    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* Footer */

    .footer {

      margin-top: 5rem;

      padding-top: 3rem;

      border-top: 1px solid var(--border);

      text-align: center;

    }

    .footer-title {

      font-family: 'Satoshi', sans-serif;

      font-size: 0.75rem;

      text-transform: uppercase;

      letter-spacing: 0.15em;

      color: var(--ink-light);

        margin-bottom: 1rem;

    }

    .footer-section {

      margin-bottom: 2.5rem;

    }

    .footer-section:last-child {

      margin-bottom: 0;

    }

    .footer-links {

      display: flex;

      justify-content: center;

      gap: 2rem;

      flex-wrap: wrap;

    }

    .footer-link {

      font-family: 'Playfair Display', serif;

        font-size: 1.1rem;

      color: var(--ink);

      text-decoration: none;

      transition: color 0.3s;

      position: relative;

    }

    .footer-link:hover {

      color: var(--ink-light);

    }

    .footer-link::after {

      content: '';

      position: absolute;

      bottom: -2px;

      left: 0;

      width: 0;

      height: 1px;

      background: var(--ink);

      transition: width 0.3s;

    }

    .footer-link:hover::after {

      width: 100%;

    }

    /* Mobile */

    @media (max-width: 600px) {

      .atelier-card { padding: 2rem 1.5rem; }

      h1 { font-size: 2.5rem; }

      .nav-tabs { gap: 1.5rem; }

      .brand-row { grid-template-columns: 1fr auto; gap: 0.5rem 1rem; padding: 1rem 0; }

      .b-name { grid-column: 1 / -1; margin-bottom: 0.5rem; }

      .list-head { display: none; }

      .input-flex { flex-direction: column; align-items: center; gap: 1.5rem; }

      .footer { margin-top: 3rem; padding-top: 2rem; }

      .footer-links { flex-direction: column; gap: 1rem; }

    }

  </style>

</head>

<body>

  <div class="container">
    

    <header class="header">

      <span class="brand">The Fit Atelier</span>

      <h1>Find Your Size</h1>

      <p class="subtitle">A curated guide to perfect fit.</p>

    </header>

    <div class="atelier-card">
      

      <!-- NAVIGATION -->

      <div class="nav-tabs">

        <div class="nav-link active" onclick="switchTab('womens')">Women</div>

        <div class="nav-link" onclick="switchTab('mens')">Men</div>

        <div class="nav-link" onclick="switchTab('shoes')">Shoes</div>

      </div>

      <!-- WOMEN -->

      <div id="womens" class="tab-section active">
        

        <div class="control-row">

          <span class="label">Garment</span>

          <div class="toggle-group">

            <div class="toggle-opt active" onclick="toggleWearType('women', 'top')" id="womenTopBtn">Tops</div>

            <div class="toggle-opt" onclick="toggleWearType('women', 'bottom')" id="womenBottomBtn">Bottoms</div>

          </div>

          </div>

          <div id="womenTopSection">

          <div class="control-row">

            <span class="label">Method</span>

            <div class="toggle-group">

              <div class="toggle-opt active" onclick="toggleInput('women', 'letter')">Letter</div>

              <div class="toggle-opt" onclick="toggleInput('women', 'measurements')">Measure</div>

          </div>

          </div>

          </div>

          <div id="womenBottomSection" style="display:none;">

          <div class="control-row">

            <span class="label">Method</span>

            <div class="toggle-group">

              <div class="toggle-opt active" onclick="toggleInput('women', 'letter')">Letter</div>

              <div class="toggle-opt" onclick="toggleInput('women', 'waist')">Waist</div>

            </div>

              </div>
          

          <div id="womenWaistInput" class="control-row" style="display:none;">

            <div class="input-flex">

              <div class="input-wrap">

                <label>Waist (in)</label>

                <input type="number" id="womenWaistInches" placeholder="28" step="0.5">

              </div>

              </div>

            </div>

          </div>

        <div id="womenLetter" class="control-row">

          <span class="label">Current Size</span>

          <div class="size-list">

            <div class="size-btn" onclick="selectSize(this, 'women', 'XXS')">XXS</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'XS')">XS</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'S')">S</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'M')">M</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'L')">L</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'XL')">XL</div>

            <div class="size-btn" onclick="selectSize(this, 'women', 'XXL')">XXL</div>

            </div>

            <input type="hidden" id="womenSelectedSize">

          </div>

        <div id="womenMeasurements" class="control-row" style="display:none;">

          <div class="input-flex">

            <div class="input-wrap">

              <label>Bust (cm)</label>

              <input type="number" id="womenBust" placeholder="0">

              </div>

            <div class="input-wrap">

                <label>Waist (cm)</label>

              <input type="number" id="womenWaist" placeholder="0">

              </div>

            <div class="input-wrap">

                <label>Hips (cm)</label>

              <input type="number" id="womenHips" placeholder="0">

              </div>

            </div>

            </div>

        <button class="calc-btn" onclick="convertWomens()">Calculate Fit</button>
        

        <div id="womensResults" class="results-view"></div>

          </div>

      <!-- MEN -->

      <div id="mens" class="tab-section">

        <div class="control-row">

          <span class="label">Garment</span>

          <div class="toggle-group">

            <div class="toggle-opt active" onclick="toggleWearType('men', 'top')" id="menTopBtn">Shirts</div>

            <div class="toggle-opt" onclick="toggleWearType('men', 'bottom')" id="menBottomBtn">Trousers</div>

        </div>

      </div>

          <div id="menTopSection">

          <div class="control-row">

            <span class="label">Method</span>

            <div class="toggle-group">

              <div class="toggle-opt active" onclick="toggleInput('men', 'letter')">Letter</div>

              <div class="toggle-opt" onclick="toggleInput('men', 'measurements')">Measure</div>

          </div>

            </div>

          </div>

          <div id="menBottomSection" style="display:none;">

          <div class="control-row">

            <span class="label">Method</span>

            <div class="toggle-group">

              <div class="toggle-opt active" onclick="toggleInput('men', 'letter')">Letter</div>

              <div class="toggle-opt" onclick="toggleInput('men', 'waist')">Waist</div>

            </div>

              </div>
          

          <div id="menWaistInput" class="control-row" style="display:none;">

            <div class="input-flex">

              <div class="input-wrap">

                <label>Waist (in)</label>

                <input type="number" id="menWaistInches" placeholder="32" step="0.5">

              </div>

              </div>

            </div>

          </div>

        <div id="menLetter" class="control-row">

          <span class="label">Current Size</span>

          <div class="size-list">

            <div class="size-btn" onclick="selectSize(this, 'men', 'XS')">XS</div>

            <div class="size-btn" onclick="selectSize(this, 'men', 'S')">S</div>

            <div class="size-btn" onclick="selectSize(this, 'men', 'M')">M</div>

            <div class="size-btn" onclick="selectSize(this, 'men', 'L')">L</div>

            <div class="size-btn" onclick="selectSize(this, 'men', 'XL')">XL</div>

            <div class="size-btn" onclick="selectSize(this, 'men', 'XXL')">XXL</div>

            </div>

            <input type="hidden" id="menSelectedSize">

          </div>

        <div id="menMeasurements" class="control-row" style="display:none;">

          <div class="input-flex">

            <div class="input-wrap">

                <label>Chest (cm)</label>

              <input type="number" id="menChest" placeholder="0">

              </div>

            <div class="input-wrap">

                <label>Waist (cm)</label>

              <input type="number" id="menWaist" placeholder="0">

              </div>

            </div>

          </div>

        <button class="calc-btn" onclick="convertMens()">Calculate Fit</button>

        <div id="mensResults" class="results-view"></div>

      </div>

      <!-- SHOES -->

      <div id="shoes" class="tab-section">

        <div class="control-row">

          <span class="label">Configuration</span>

          <div class="input-flex">

            <div class="input-wrap">

              <label>Dept</label>

              <select id="shoeGender">

                <option>Women's</option>

                <option>Men's</option>

              </select>

            </div>

            <div class="input-wrap">

              <label>System</label>

              <select id="shoeSystem">

                <option value="us">US</option>

                <option value="uk">UK</option>

                <option value="eu">EU</option>

                <option value="au">AU</option>

              </select>

            </div>

            <div class="input-wrap">

              <label>Size</label>

              <input type="number" id="shoeSize" placeholder="9" step="0.5">

          </div>

        </div>

      </div>

        <button class="calc-btn" onclick="convertShoes()">Convert Size</button>

        <div id="shoesResults" class="results-view"></div>

    </div>

  </div>

  </div>

  <script>

    /* --- LOGIC (IDENTICAL FUNCTIONALITY) --- */
    

    const womenSizeMap = {

      'XXS': { us: '0-2', uk: '4', eu: '32', au: '4', bust: '76-78', bustIn: '30-31', waist: '56', waistIn: '22', hips: '84-86', hipsIn: '33-34' },

      'XS': { us: '2-4', uk: '6', eu: '34', au: '6', bust: '78-81', bustIn: '31-32', waist: '60', waistIn: '24', hips: '86-89', hipsIn: '34-35' },

      'S': { us: '4-6', uk: '8', eu: '36', au: '8', bust: '81-86', bustIn: '32-34', waist: '66', waistIn: '26', hips: '89-94', hipsIn: '35-37' },

      'M': { us: '8-10', uk: '10-12', eu: '38-40', au: '10-12', bust: '86-91', bustIn: '34-36', waist: '72-78', waistIn: '28-30', hips: '94-99', hipsIn: '37-39' },

      'L': { us: '12-14', uk: '14-16', eu: '42-44', au: '14-16', bust: '96-101', bustIn: '38-40', waist: '82-88', waistIn: '32-34', hips: '99-105', hipsIn: '39-41.5' },

      'XL': { us: '16', uk: '18', eu: '46', au: '18', bust: '101-108', bustIn: '40-43', waist: '88-92', waistIn: '34-36', hips: '105-112', hipsIn: '41.5-44' },

      'XXL': { us: '18-20', uk: '20-22', eu: '48-50', au: '20-22', bust: '108-117', bustIn: '43-46', waist: '92-99', waistIn: '36-39', hips: '112-122', hipsIn: '44-48' },

      '3XL': { us: '22-24', uk: '24-26', eu: '52-54', au: '24-26', bust: '117-127', bustIn: '46-50', waist: '99-107', waistIn: '39-42', hips: '122-132', hipsIn: '48-52' }

    };
    
    

    const womenBottomSizeMap = {

      'XXS': { uk: '4', us: '0-2', eu: '32', waist: '22', waistCm: '56', hip: '33.5-34', hipCm: '84-86' },

      'XS': { uk: '6', us: '2-4', eu: '34', waist: '24', waistCm: '60', hip: '34-35', hipCm: '86-89' },

      'S': { uk: '8', us: '4-6', eu: '36', waist: '26', waistCm: '66', hip: '35-37', hipCm: '89-94' },

      'M': { uk: '10-12', us: '8-10', eu: '38-40', waist: '28-30', waistCm: '72-78', hip: '37-39', hipCm: '94-99' },

      'L': { uk: '14-16', us: '12-14', eu: '42-44', waist: '32-34', waistCm: '82-88', hip: '39-42', hipCm: '99-107' },

      'XL': { uk: '18', us: '16', eu: '46', waist: '34-36', waistCm: '88-92', hip: '42-44', hipCm: '107-112' },

      'XXL': { uk: '20-22', us: '18-20', eu: '48-50', waist: '36-39', waistCm: '92-99', hip: '44-48', hipCm: '112-122' },

      '3XL': { uk: '24-26', us: '22-24', eu: '52-54', waist: '39-42', waistCm: '99-107', hip: '48-52', hipCm: '122-132' }

    };

    const menSizeMap = {

      'XS': { us: 'XS', uk: '32-34', eu: '42-44', au: 'XS', chest: '81-91', chestIn: '32-36', waist: '71-76', waistIn: '28' },

      'S': { us: 'S', uk: '36-38', eu: '46-48', au: 'S', chest: '91-101', chestIn: '36-40', waist: '76-81', waistIn: '30-32' },

      'M': { us: 'M', uk: '38-40', eu: '48-50', au: 'M', chest: '101-111', chestIn: '40-44', waist: '81-86', waistIn: '32-34' },

      'L': { us: 'L', uk: '40-42', eu: '50-52', au: 'L', chest: '111-121', chestIn: '44-48', waist: '86-91', waistIn: '34-36' },

      'XL': { us: 'XL', uk: '42-44', eu: '52-54', au: 'XL', chest: '121-127', chestIn: '48-50', waist: '91-96', waistIn: '36-38' },

      'XXL': { us: '2XL', uk: '44-46', eu: '54-56', au: '2XL', chest: '127-132', chestIn: '50-52', waist: '96-101', waistIn: '38-40' },

      '3XL': { us: '3XL', uk: '46-50', eu: '56-60', au: '3XL', chest: '132-137', chestIn: '52-54', waist: '101-106', waistIn: '40-42' },

      '4XL': { us: '4XL', uk: '50+', eu: '60+', au: '4XL', chest: '137+', chestIn: '54+', waist: '106+', waistIn: '42+' }

    };
    

    const menBottomSizeMap = {

      'XS': { uk: '28', us: 'XS', eu: '44', waist: '28' },

      'S': { uk: '30-32', us: 'S', eu: '46-48', waist: '30-32' },

      'M': { uk: '32-34', us: 'M', eu: '48-50', waist: '32-34' },

      'L': { uk: '34-36', us: 'L', eu: '50-52', waist: '34-36' },

      'XL': { uk: '36-38', us: 'XL', eu: '52-54', waist: '36-38' },

      'XXL': { uk: '38-40', us: '2XL', eu: '54-56', waist: '38-40' },

      '3XL': { uk: '40-42', us: '3XL', eu: '56-58', waist: '40-42' },

      '4XL': { uk: '42+', us: '4XL', eu: '58+', waist: '42+' }

    };

    function switchTab(tabId) {

      document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));

      document.querySelectorAll('.tab-section').forEach(el => el.classList.remove('active'));
      

      const idx = ['womens', 'mens', 'shoes'].indexOf(tabId);

      if(idx > -1) document.querySelectorAll('.nav-link')[idx].classList.add('active');
      

      document.getElementById(tabId).classList.add('active');

      hideResults();

    }

    function toggleWearType(gender, type) {

      const topBtn = document.getElementById(gender + 'TopBtn');

      const bottomBtn = document.getElementById(gender + 'BottomBtn');

      const waistOpt = document.getElementById(gender === 'women' ? 'w-waist-opt' : 'm-waist-opt');
      
      
      
      topBtn.classList.remove('active');

      bottomBtn.classList.remove('active');
      
      
      if (type === 'top') {

        topBtn.classList.add('active');

        document.getElementById(gender + 'TopSection').style.display = 'block';

        document.getElementById(gender + 'BottomSection').style.display = 'none';

        document.getElementById(gender + 'Measurements').style.display = 'none';

        document.getElementById(gender + 'Letter').style.display = 'block';

        if(waistOpt) waistOpt.style.display = 'none';
        

        // Reset to letter

        toggleInput(gender, 'letter');
        

      } else {

        bottomBtn.classList.add('active');

        document.getElementById(gender + 'TopSection').style.display = 'none';

        document.getElementById(gender + 'BottomSection').style.display = 'block';

        document.getElementById(gender + 'Letter').style.display = 'block';

        document.getElementById(gender + 'Measurements').style.display = 'none';

        document.getElementById(gender + 'WaistInput').style.display = 'none';
        

        if(waistOpt) waistOpt.style.display = 'block';

        toggleInput(gender, 'letter');

      }

      hideResults();

    }

    function toggleInput(gender, method) {

      const parent = event.target ? event.target.closest('.toggle-group') : null;

      if (parent) parent.querySelectorAll('.toggle-opt').forEach(b => b.classList.remove('active'));

      if (event.target) event.target.classList.add('active');

      const letterDiv = document.getElementById(gender + 'Letter');

      const measDiv = document.getElementById(gender + 'Measurements');

      const waistDiv = document.getElementById(gender + 'WaistInput');

      if (method === 'letter') {

        letterDiv.style.display = 'block';

        if(measDiv) measDiv.style.display = 'none';

        if(waistDiv) waistDiv.style.display = 'none';

      } else if (method === 'measurements') {

        letterDiv.style.display = 'none';

        measDiv.style.display = 'block';

      } else if (method === 'waist') {

        letterDiv.style.display = 'none';

        waistDiv.style.display = 'block';

      }

      hideResults();

    }

    function selectSize(el, gender, size) {

      el.parentElement.querySelectorAll('.size-btn').forEach(b => b.classList.remove('selected'));

      el.classList.add('selected');

      document.getElementById(gender + 'SelectedSize').value = size;

    }

    function hideResults() {

      document.querySelectorAll('.results-view').forEach(el => {

        el.classList.remove('visible');

        el.innerHTML = '';

      });

    }

    function renderResults(mainSize, subDetails, brands, targetId, standardRange) {

      let brandsHtml = '';

      brands.forEach(b => {

        brandsHtml += `

          <div class="brand-row">

            <div class="b-name">${b.name}${b.note ? `<br><span style="font-size: 0.75rem; color: var(--ink-light); font-weight: 400;">${b.note}</span>` : ''}</div>

            <div class="b-val"><span class="list-head">Spec Size</span><br><strong>${b.size}</strong></div>

            <div class="b-val"><span class="list-head">US</span><br>${b.us || '-'}</div>

            <div class="b-val"><span class="list-head">UK</span><br>${b.uk || '-'}</div>

            <div class="b-val"><span class="list-head">EU</span><br>${b.eu || '-'}</div>

            ${b.au ? `<div class="b-val"><span class="list-head">AU</span><br>${b.au}</div>` : ''}

        </div>

        `;

      });

      const subHtml = subDetails.map(d => `${d.label}: ${d.val}`).join('  //  ');

      const standardRangeHtml = standardRange ? `<div class="res-sub" style="margin-top: 1rem; padding: 1rem; background: #F9F7F2; border-radius: 2px; font-size: 0.85rem; color: var(--ink-light);">Standard Range: ${standardRange}</div>` : '';

      const html = `

        <div class="res-hero">${mainSize}</div>

        <div class="res-sub">${subHtml}</div>

        ${standardRangeHtml}

        <div class="brand-list">

          ${brandsHtml}

            </div>

      `;

      const target = document.getElementById(targetId);

      target.innerHTML = html;

      target.classList.add('visible');

      target.scrollIntoView({ behavior: 'smooth', block: 'start' });

    }

    function convertWomens() {

      const bottomBtn = document.getElementById('womenBottomBtn');

      if (bottomBtn && bottomBtn.classList.contains('active')) {

        convertWomensBottom();

        return;

      }
      
      
      const selectedSize = document.getElementById('womenSelectedSize').value;

      const bust = parseFloat(document.getElementById('womenBust').value);

      let letterSize = selectedSize;

      if (!letterSize && bust) {

            if (bust < 80) letterSize = 'XXS';

            else if (bust < 85) letterSize = 'XS';

            else if (bust < 90) letterSize = 'S';

            else if (bust < 95) letterSize = 'M';

            else if (bust < 100) letterSize = 'L';

            else if (bust < 106) letterSize = 'XL';

            else if (bust < 112) letterSize = 'XXL';

            else letterSize = '3XL';

      }

      if (!letterSize) return alert('Select a size or enter bust measurement.');

      const size = womenSizeMap[letterSize];

      if(!size) return;

      const brands = [

        { name: 'Zara', size: size.eu, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'H&M', size: size.us, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'ASOS', size: size.uk, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'Nike', size: letterSize, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu }

      ];

      renderResults(letterSize, [

        { label: 'US', val: size.us },

        { label: 'UK', val: size.uk }

      ], brands, 'womensResults');

    }

    function convertWomensBottom() {

      let letterSize = document.getElementById('womenSelectedSize').value;

      const waist = parseFloat(document.getElementById('womenWaistInches').value);

      if (!letterSize && waist) {

        if (waist < 23) letterSize = 'XXS';

        else if (waist < 25) letterSize = 'XS';

        else if (waist < 27) letterSize = 'S';

        else if (waist < 31) letterSize = 'M';

        else if (waist < 35) letterSize = 'L';

        else if (waist < 39) letterSize = 'XL';

        else if (waist < 42) letterSize = 'XXL';

        else letterSize = '3XL';

      }

      if (!letterSize) return alert('Please select a size or enter waist measurement.');

      const size = womenBottomSizeMap[letterSize];

      if(!size) return;

      const brands = [

        { name: 'Zara', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, note: 'Runs small' },

        { name: 'Levi\'s', size: size.waist, us: size.us, uk: size.uk, eu: size.eu, note: 'True to size' },

        { name: 'H&M', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'Standard fit' },

        { name: 'ASOS', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, note: 'True to size' },

        { name: 'Uniqlo', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Asian fit - runs small' },

        { name: 'Target AU', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' },

        { name: 'Kmart', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' },

        { name: 'Nike', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Athletic fit' },

        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Athletic fit' },

        { name: 'Cotton On', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' }

      ];

      const standardRange = `Waist ${size.waist}" (${size.waistCm}cm) | Hip: ${size.hip}" (${size.hipCm}cm)`;

      renderResults(letterSize, [

        { label: 'Waist', val: size.waist + '"' },

        { label: 'UK', val: size.uk }

      ], brands, 'womensResults', standardRange);

    }

    function convertMens() {

      const bottomBtn = document.getElementById('menBottomBtn');

      if (bottomBtn && bottomBtn.classList.contains('active')) {

        convertMensBottom();

        return;

      }

      const selectedSize = document.getElementById('menSelectedSize').value;

      const chest = parseFloat(document.getElementById('menChest').value);

      let letterSize = selectedSize;

      if (!letterSize && chest) {

            if (chest < 92) letterSize = 'XS';

            else if (chest < 98) letterSize = 'S';

            else if (chest < 104) letterSize = 'M';

            else if (chest < 110) letterSize = 'L';

            else if (chest < 116) letterSize = 'XL';

            else if (chest < 122) letterSize = 'XXL';

        else letterSize = '3XL';

      }

      if (!letterSize) return alert('Select a size or enter chest measurement.');

      const size = menSizeMap[letterSize];

      const brands = [

        { name: 'H&M', size: size.us, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'Uniqlo', size: letterSize, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'Nike', size: letterSize, us: size.us, uk: size.uk, eu: size.eu },

        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu }

      ];

      renderResults(letterSize, [

        { label: 'Chest', val: size.chestIn + '"' },

        { label: 'Waist', val: size.waistIn + '"' }

      ], brands, 'mensResults');

    }

    function convertMensBottom() {

      let letterSize = document.getElementById('menSelectedSize').value;

      const waist = parseFloat(document.getElementById('menWaistInches').value);

      if (!letterSize && waist) {

        if (waist < 29) letterSize = 'XS';

        else if (waist < 33) letterSize = 'S';

        else if (waist < 35) letterSize = 'M';

        else if (waist < 37) letterSize = 'L';

        else if (waist < 39) letterSize = 'XL';

        else if (waist < 41) letterSize = 'XXL';

        else letterSize = '3XL';

      }

      if (!letterSize) return alert('Select a size or enter waist measurement.');

      const size = menBottomSizeMap[letterSize];

      const brands = [

        { name: 'H&M', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'Standard fit' },

        { name: 'Zara', size: size.eu, us: size.us, uk: size.uk, eu: size.eu, note: 'Runs small' },

        { name: 'ASOS', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, note: 'True to size' },

        { name: 'Uniqlo', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Asian fit - runs small' },

        { name: 'Target AU', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' },

        { name: 'Kmart', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' },

        { name: 'Nike', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Athletic fit' },

        { name: 'Adidas', size: letterSize, us: size.us, uk: size.uk, eu: size.eu, note: 'Athletic fit' },

        { name: 'Cotton On', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' },

        { name: 'Connor', size: size.uk, us: size.us, uk: size.uk, eu: size.eu, au: size.uk, note: 'AU sizing' }

      ];

      // Calculate waist in cm from inches (1 inch = 2.54 cm)

      let waistCm = '';

      if (size.waist.includes('-')) {

        const [minWaist, maxWaist] = size.waist.split('-').map(w => Math.round(parseFloat(w) * 2.54));

        waistCm = `${minWaist}-${maxWaist}`;

      } else if (size.waist.includes('+')) {

        const minWaist = Math.round(parseFloat(size.waist.replace('+', '')) * 2.54);

        waistCm = `${minWaist}+`;

      } else {

        waistCm = Math.round(parseFloat(size.waist) * 2.54).toString();

      }

      const standardRange = `Waist ${size.waist}" (${waistCm}cm)`;

      renderResults(letterSize, [

        { label: 'Waist', val: size.waist + '"' },

        { label: 'EU', val: size.eu }

      ], brands, 'mensResults', standardRange);

    }

    function convertShoes() {

      const size = parseFloat(document.getElementById('shoeSize').value);

      const system = document.getElementById('shoeSystem').value;

      const gender = document.getElementById('shoeGender').value;

      if (!size) return alert('Please enter a shoe size.');

      let us = size, uk = size, eu = size, au = size;
      

      if(system === 'us') {

        uk = gender === "Women's" ? size - 2 : size - 1;

        eu = size + 31; 

        au = size; 

      } else if(system === 'uk') {

        us = gender === "Women's" ? size + 2 : size + 1;

        eu = size + 33;

        au = size + 2;

      } else if(system === 'eu') {

        us = size - 31;

        uk = size - 33;

        au = size - 31;

      } else if(system === 'au') {

        us = size;

        uk = size - 2;

        eu = size + 31;

      }

      const brands = [

        { name: 'Nike', size: Math.round(us*10)/10, us: Math.round(us*10)/10, uk: Math.round(uk*10)/10, eu: Math.round(eu) },

        { name: 'Adidas', size: Math.round(us*10)/10, us: Math.round(us*10)/10, uk: Math.round(uk*10)/10, eu: Math.round(eu) },

        { name: 'Converse', size: Math.round(us*10)/10, us: Math.round(us*10)/10, uk: Math.round(uk*10)/10, eu: Math.round(eu) }

      ];

      renderResults(gender.toUpperCase(), [

        { label: 'US', val: Math.round(us*10)/10 },

        { label: 'UK', val: Math.round(uk*10)/10 }

      ], brands, 'shoesResults');

    }

  </script>

  <!-- Keep Scintilla / NutriThrive links -->
  <footer class="footer">

    <div class="container">

      <div class="footer-section">

        <div class="footer-title">NutriThrive Products</div>

        <div class="footer-links">

          <a href="https://nutrithrive.com.au/products/product-detail.html" target="_blank" rel="noopener noreferrer" class="footer-link">Moringa Powder</a>

          <a href="https://nutrithrive.com.au/products/product-curry-leaves.html" target="_blank" rel="noopener noreferrer" class="footer-link">Dried Curry Leaves</a>

          <a href="https://nutrithrive.com.au/products/product-black-tea.html" target="_blank" rel="noopener noreferrer" class="footer-link">Black Tea</a>

          <a href="https://nutrithrive.com.au/products/products.html" target="_blank" rel="noopener noreferrer" class="footer-link">All Products</a>

        </div>

          </div>

      <div class="footer-section">

        <div class="footer-title">Our Tools</div>

        <div class="footer-links">

          <a href="https://scintilla.world/" target="_blank" rel="noopener noreferrer" class="footer-link">Scintilla World</a>

          <a href="https://nutrithrive.com.au/crazy-ideas/index.html" target="_blank" rel="noopener noreferrer" class="footer-link">NutriThrive Labs</a>

      </div>

    </div>

  </div>

  </footer>

</body>

</html>


